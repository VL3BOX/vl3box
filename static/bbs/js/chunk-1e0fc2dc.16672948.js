(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e0fc2dc"],{"04d1":function(t,e,a){"use strict";var s=a("342f"),n=s.match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},1856:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return i}));var s=a("41cb");function n(t){return Object(s["a"])().get("/api/cms/namespace",{params:t})}function i(t){return Object(s["a"])().get("/api/cms/namespace/".concat(t))}},2973:function(t,e,a){},"29b8":function(t,e,a){"use strict";a("2973")},"4e82":function(t,e,a){"use strict";var s=a("23e7"),n=a("e330"),i=a("59ed"),r=a("7b0b"),c=a("07fa"),o=a("083a"),l=a("577e"),u=a("d039"),p=a("addb"),d=a("a640"),m=a("04d1"),f=a("d998"),h=a("2d00"),v=a("512ce"),b=[],y=n(b.sort),_=n(b.push),g=u((function(){b.sort(void 0)})),k=u((function(){b.sort(null)})),C=d("sort"),w=!u((function(){if(h)return h<70;if(!(m&&m>3)){if(f)return!0;if(v)return v<603;var t,e,a,s,n="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:a=3;break;case 68:case 71:a=4;break;default:a=2}for(s=0;s<47;s++)b.push({k:e+s,v:a})}for(b.sort((function(t,e){return e.v-t.v})),s=0;s<b.length;s++)e=b[s].k.charAt(0),n.charAt(n.length-1)!==e&&(n+=e);return"DGBEFHACIJK"!==n}})),$=g||!k||!C||!w,O=function(t){return function(e,a){return void 0===a?-1:void 0===e?1:void 0!==t?+t(e,a)||0:l(e)>l(a)?1:-1}};s({target:"Array",proto:!0,forced:$},{sort:function(t){void 0!==t&&i(t);var e=r(this);if(w)return void 0===t?y(e):y(e,t);var a,s,n=[],l=c(e);for(s=0;s<l;s++)s in e&&_(n,e[s]);p(n,O(t)),a=c(n),s=0;while(s<a)e[s]=n[s++];while(s<l)o(e,s++);return e}})},"512ce":function(t,e,a){"use strict";var s=a("342f"),n=s.match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},a3d0:function(t,e,a){"use strict";a.r(e);a("ac1f"),a("841c"),a("498a");var s=function(){var t=this,e=t._self._c;return e("ListLayout",[e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"v-namespace"},[e("div",{key:"namespace-search",staticClass:"m-archive-search m-namespace-search",attrs:{slot:"search-before"},slot:"search-before"},[e("el-input",{staticClass:"input-with-select",attrs:{placeholder:t.$t("请输入搜索内容"),clearable:""},on:{clear:t.onSearch},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSearch.apply(null,arguments)}},model:{value:t.search,callback:function(e){t.search="string"===typeof e?e.trim():e},expression:"search"}},[e("span",{attrs:{slot:"prepend"},slot:"prepend"},[e("i",{staticClass:"el-icon-search"}),t._v(" "),e("span",{staticClass:"u-search"},[t._v(t._s(t.$t("关键词")))])]),e("el-button",{attrs:{slot:"append",icon:"el-icon-position"},on:{click:t.onSearch},slot:"append"})],1)],1),e("el-tabs",{staticClass:"m-namespace-tab",model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[e("el-tab-pane",{attrs:{label:t.$t("全部"),name:"all"}}),t._l(t.types,(function(t){return e("el-tab-pane",{key:t.value,attrs:{label:t.label,name:t.value}})}))],2),t.query?e("el-alert",{staticClass:"m-namespace-warning",attrs:{type:"warning","show-icon":""}},[e("span",{attrs:{slot:"title"},slot:"title"},[e("b",[t._v(t._s(t.query))]),t._v(" "+t._s(t.$t("铭牌不存在或正在审核中"))+" ")])]):t._e(),e("div",{staticClass:"m-namespace-filter"},[e("div",{staticClass:"m-namespace-add"},[e("a",{staticClass:"u-publish el-button el-button--primary el-button--small",attrs:{href:t.publish_link}},[t._v("+ "+t._s(t.$t("注册铭牌")))]),e("a",{staticClass:"u-publish el-button el-button--primary el-button--small",attrs:{href:"/publish/#/bucket/namespace"}},[e("span",{staticClass:"el-icon-receiving"}),t._v(" "+t._s(t.$t("我的铭牌"))+" ")]),e("div",{staticClass:"m-namespace-total"},[t._v(" "+t._s(t.$t("当前共"))+" "),e("b",[t._v(t._s(t.total))]),t._v(t._s(t.$t("个铭牌"))+" ")])]),e("div",{staticClass:"m-namespace-order"},[e("orderBy",{staticClass:"u-item",on:{filter:t.changeOrder}})],1)]),t.list?e("div",{staticClass:"m-namespace-list"},t._l(t.list,(function(t,a){return e("div",{key:a,staticClass:"u-namespace"},[e("namespace-item",{attrs:{data:t}})],1)})),0):e("div",{staticClass:"m-namespace-null"},[e("el-alert",{attrs:{title:t.$t("没有相关条目"),type:"info","show-icon":""}})],1),e("div",{staticClass:"m-namespace-pages"},[e("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next,jumper","hide-on-single-page":!0,"page-size":t.per,total:t.total,"current-page":t.page},on:{"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e}}})],1)],1)])},n=[],i=(a("4e82"),a("b64b"),a("d3b7"),a("159b"),a("9911"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-namespace-item",on:{click:function(e){return t.goNamespace(t.namespace.link)}}},[e("h5",{staticClass:"u-title"},[e("a",{attrs:{href:t.namespace.link,target:"_blank"},on:{click:function(t){t.stopPropagation()}}},[e("i",{staticClass:"u-icon el-icon-postcard"}),t._v(t._s(t.namespace.key||t.$t("未知"))+" "),e("span",{staticClass:"u-preview"},[t._v("剑网3.com/"+t._s(t.namespace.key))])]),t.isMyNamespace(t.namespace.uid)?e("i",{staticClass:"u-my"},[t._v(t._s(t.$t("由我创建的")))]):t._e()]),e("p",{staticClass:"u-desc"},[t._v(t._s(t.namespace.desc||t.namespace.key||t.$t("未知")))]),e("div",{staticClass:"u-misc"},[e("span",{staticClass:"u-author"},[e("i",{staticClass:"el-icon-user"}),e("a",{attrs:{href:t._f("authorLink")(t.namespace.uid),target:"_blank"},on:{click:function(t){t.stopPropagation()}}},[t._v(" "+t._s(t.namespace.user.display_name||t.$t("匿名")))])]),e("time",{staticClass:"u-time"},[e("i",{staticClass:"el-icon-date"}),t._v(" "+t._s(t._f("dataFormat")(t.namespace.created)))])])])}),r=[],c=a("85e4"),o=a("e4f1"),l=a("c9d2"),u={name:"namespaceItem",props:["data"],data:function(){return{uid:l["a"].getInfo().uid}},computed:{namespace:function(){return this.data}},filters:{authorLink:c["authorLink"],dataFormat:function(t){return t&&Object(o["a"])(1e3*~~t)||"-"}},methods:{isMyNamespace:function(t){return this.uid&&t==this.uid},goNamespace:function(t){window.open(t,"_blank")}},mounted:function(){}},p=u,d=a("2877"),m=Object(d["a"])(p,i,r,!1,null,null,null),f=m.exports,h=a("1856"),v=a("9398"),b={name:"Namespace",props:[],data:function(){return{type:"all",types:[{label:"玩家",value:"player"},{label:"团队",value:"team"},{label:"系统",value:"system"},{label:"自定义",value:"custom"}],list:"",per:24,total:1,page:1,order:"update",search:"",query:"",loading:!1}},computed:{params:function(){var t={source_type:"all"==this.type?"":this.type,page:this.page,per:this.per};return"podate"==this.order?t.sort="created":t.sort="updated",t},publish_link:function(){return Object(c["publishLink"])("namespace")},buy_link:function(){return"/vip/namespace?from=bbs_namespace"}},methods:{loadNamespaceList:function(){var t=this;this.loading=!0;var e=this.removeEmpty(Object.assign({},this.params,{key:this.search}));Object(h["b"])(e).then((function(e){t.list=e.data.data.list||[],t.total=e.data.data.total})).finally((function(){t.loading=!1}))},changeOrder:function(t){this.order=t.val},onSearch:function(){1==this.page?this.loadNamespaceList():this.page=1},removeEmpty:function(t){return Object.keys(t).forEach((function(e){null!==t[e]&&void 0!==t[e]&&""!==t[e]||delete t[e]})),t}},watch:{type:function(){this.page=1},params:{deep:!0,immediate:!0,handler:function(t){this.query="",this.loadNamespaceList()}}},created:function(){this.query=this.$route.query.namespace},components:{"namespace-item":f,ListLayout:v["a"]}},y=b,_=(a("29b8"),Object(d["a"])(y,s,n,!1,null,null,null));e["default"]=_.exports},d998:function(t,e,a){"use strict";var s=a("342f");t.exports=/MSIE|Trident/.test(s)}}]);
//# sourceMappingURL=chunk-1e0fc2dc.16672948.js.map