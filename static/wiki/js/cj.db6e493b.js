(function(e){function t(t){for(var a,r,c=t[0],o=t[1],u=t[2],l=0,d=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);h&&h(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={cj:0},i={cj:0},s=[];function c(e){return o.p+"js/"+({}[e]||e)+"."+{"chunk-389cf8c0":"1cd967d4","chunk-f14951c2":"c5914ad0","chunk-026dd4db":"d4085c29","chunk-026de58d":"14fcad01","chunk-027090f4":"e62ba0d1","chunk-0283053e":"a52c4626","chunk-6be64a36":"7fc6b0de","chunk-18bee04b":"c45c8202","chunk-ac33fb68":"13c00b80","chunk-d0ca85dc":"b162207a","chunk-f810ce20":"c6ee7f8f","chunk-796a3785":"2ca68b10","chunk-7ace2085":"191d6d18"}[e]+".js"}function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n={"chunk-389cf8c0":1,"chunk-f14951c2":1,"chunk-6be64a36":1,"chunk-18bee04b":1,"chunk-ac33fb68":1,"chunk-d0ca85dc":1,"chunk-f810ce20":1,"chunk-796a3785":1,"chunk-7ace2085":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-389cf8c0":"70e77ecf","chunk-f14951c2":"9ad69256","chunk-026dd4db":"31d6cfe0","chunk-026de58d":"31d6cfe0","chunk-027090f4":"31d6cfe0","chunk-0283053e":"31d6cfe0","chunk-6be64a36":"79744383","chunk-18bee04b":"4e1f7ca7","chunk-ac33fb68":"9676de32","chunk-d0ca85dc":"504c382a","chunk-f810ce20":"8681a6ad","chunk-796a3785":"7afa03ad","chunk-7ace2085":"5e99e0ba"}[e]+".css",i=o.p+a,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var u=s[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===i))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===a||l===i)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var a=t&&t.target&&t.target.src||i,s=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete r[e],h.parentNode.removeChild(h),n(s)},h.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){r[e]=0})));var a=i[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise((function(t,n){a=i[e]=[t,n]}));t.push(a[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=c(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(h);var n=i[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}i[e]=void 0}};var h=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="https://vl3box.com/static/wiki/",o.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var h=l;s.push([4,"chunk-vendors","chunk-common"]),n()})({"0d2c":function(e,t,n){},"0d43":function(e,t,n){"use strict";n("f70d")},"262e":function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"m",(function(){return s})),n.d(t,"n",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"o",(function(){return h})),n.d(t,"g",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"l",(function(){return v})),n.d(t,"i",(function(){return p})),n.d(t,"h",(function(){return b})),n.d(t,"k",(function(){return g})),n.d(t,"p",(function(){return k})),n.d(t,"a",(function(){return _})),n.d(t,"j",(function(){return y}));n("caad"),n("2532");var a=n("41cb"),r=Object(a["d"])();function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wiki_cj_ac";return Object(a["a"])().get("/api/cms/breadcrumb/".concat(e)).then((function(e){return e.data.data.html||""}))}function s(e,t){return e?r.get("api/node/achievement/".concat(e),t):null}function c(e){return e?r.get("/api/node/achievement/".concat(e,"/relations")):null}var o=location.href.includes("origin")?"origin":"std";function u(){return r.get("/api/node/achievement/count",{params:{client:o}})}function l(e){return r.get("/api/node/achievement/menus",{params:{general:e,client:o}})}function d(e,t){var n="/api/cms/helper/achievements/".concat(e);return t&&(n+="/".concat(t)),Object(a["a"])().get(n,{params:{client:o}})}function h(e){return r.get("/api/node/achievement/search",{params:Object.assign(e,{client:o})})}function f(e){return r.get("/api/node/achievement/newest",{params:{page:e,client:o}})}function m(e){return r.get("/api/node/achievement/adventure",{params:{page:e,client:o}})}function v(e){return Object(a["a"])().get("/api/cms/helper/achievements/waiting",{params:{page:e,client:o}})}function p(e){return r.get("/api/node/achievement/rare",{params:{page:e,client:o}})}function b(e){return Object(a["b"])().get("/api/achievements/out_print",{params:{page:e,client:o}})}function g(){return Object(a["c"])().get("/api/next2/virtual-achievements")}function k(e){return Object(a["c"])().post("/api/next2/virtual-achievements",e)}function _(e){return Object(a["c"])().post("/api/next2/virtual-achievements/cancel",e)}function y(e){return Object(a["c"])().get("/api/next2/user-achievements",{params:{jx3id:e}})}},4:function(e,t,n){e.exports=n("e933")},"48bb":function(e,t,n){},"88d3":function(e,t,n){"use strict";n("48bb")},b49c:function(e,t,n){},d922:function(e,t,n){"use strict";n("b49c")},e795:function(e,t,n){"use strict";n("0d2c")},e933:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=n("5c96"),i=n.n(r),s=n("6a69"),c=(n("6b30"),n("c5b4"),n("4eb5")),o=n.n(c),u=(n("caad"),n("d3b7"),n("ac1f"),n("2532"),n("3ca3"),n("5319"),n("ddb0"),n("8c4f")),l=n("2f62");a["default"].use(l["a"]);var d={state:{scroll_tops:{},sidebar:{general:1,sub:null,detail:null},client:location.href.includes("origin")?"origin":"std",role:"",achievements:[],generalTotal:0,armorTotal:0,onlyUncompleted:!1,achievementsVirtual:[]},mutations:{SET_STATE:function(e,t){var n=t.key,a=t.value,r=t.isSession,i=void 0!==r&&r;e[n]=a,i&&sessionStorage.setItem(n,a)}},getters:{},actions:{},modules:{}},h=new l["a"].Store(d),f=function(){return Promise.all([n.e("chunk-796a3785"),n.e("chunk-7ace2085")]).then(n.bind(null,"f982"))},m=function(){return Promise.all([n.e("chunk-389cf8c0"),n.e("chunk-f14951c2"),n.e("chunk-ac33fb68")]).then(n.bind(null,"891e"))},v=function(){return Promise.all([n.e("chunk-389cf8c0"),n.e("chunk-f14951c2"),n.e("chunk-6be64a36"),n.e("chunk-18bee04b")]).then(n.bind(null,"9740"))},p=function(){return Promise.all([n.e("chunk-389cf8c0"),n.e("chunk-f14951c2"),n.e("chunk-f810ce20")]).then(n.bind(null,"5d74"))},b=function(){return Promise.all([n.e("chunk-389cf8c0"),n.e("chunk-f14951c2"),n.e("chunk-026dd4db")]).then(n.bind(null,"3c47"))},g=function(){return Promise.all([n.e("chunk-389cf8c0"),n.e("chunk-f14951c2"),n.e("chunk-d0ca85dc")]).then(n.bind(null,"8aca"))},k=function(){return Promise.all([n.e("chunk-389cf8c0"),n.e("chunk-f14951c2"),n.e("chunk-0283053e")]).then(n.bind(null,"c845"))},_=function(){return Promise.all([n.e("chunk-389cf8c0"),n.e("chunk-f14951c2"),n.e("chunk-026de58d")]).then(n.bind(null,"3fa3"))};a["default"].use(u["a"]);var y=[{name:"home",path:"/",component:f,beforeEnter:function(e,t,n){h.state.sidebar.general=1,n()}},{name:"normal",path:"/:sub(\\d+)/:detail(\\d+)?",component:m,beforeEnter:function(e,t,n){h.state.sidebar.general=1,n()}},{name:"top_five",path:"/top_five/:sub(\\d+)?/:detail(\\d+)?",component:m,beforeEnter:function(e,t,n){h.state.sidebar.general=2,n()}},{name:"view",path:"/view/:source_id(\\d+)/:post_id(\\d+)?",component:v},{name:"search",path:"/search/:keyword(.*)?",component:p},{name:"newest",path:"/newest",component:b,beforeEnter:function(e,t,n){h.state.sidebar.general=3,n()}},{name:"waiting",path:"/waiting",component:g,beforeEnter:function(e,t,n){h.state.sidebar.general=3,n()}},{name:"adventure",path:"/adventure",component:k,beforeEnter:function(e,t,n){h.state.sidebar.general=3,n()}},{name:"rare",path:"/rare",component:_,beforeEnter:function(e,t,n){h.state.sidebar.general=3,n()}}],C=new u["a"]({routes:y,base:"/cj",mode:"history"}),w=u["a"].prototype.push;u["a"].prototype.push=function(e){return w.call(this,e).catch((function(e){return e}))},C.beforeEach((function(e,t,n){e.fullPath.includes("/#")&&n(e.fullPath.replace("/#","")),e.fullPath.includes("/achievement")&&n(e.fullPath.replace("/achievement","")),n()}));var T=C,S=(n("841c"),function(){var e=this,t=e._self._c;return t("DefaultLayout",{attrs:{name:"成就百科",slug:"cj",root:"/cj",publishEnable:!0,feedbackEnable:!0,adminEnable:!1},scopedSlots:e._u([{key:"breadcrumb",fn:function(){return[t("AchievementCount")]},proxy:!0},{key:"left",fn:function(){return[t("CommonNav",[t("Sidebar",{attrs:{sidebar:e.$store.state.sidebar}})],1)]},proxy:!0},{key:"right",fn:function(){return[t("Info",{attrs:{type:"achievement"}})]},proxy:!0}])},[t("Search",{attrs:{placeholder:e.placeholder},on:{search:function(t){return e.search(t)}}}),t("router-view")],1)}),j=[],x=(n("14d9"),n("b0c0"),n("498a"),n("4c53"),n("7575")),$=function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-achievement-count"},[t("div",{staticClass:"u-stat"},e._l(e.countDict,(function(n,a){return t("span",{key:a},[t("em",[e._v(e._s(n))]),t("b",[e._v(e._s(e.count[a]))])])})),0)])},E=[],O=n("262e"),A={name:"AchievementCount",data:function(){return{generalNum:137,count:{},countDict:{general:"常规成就数",general_point:"常规资历数",armor:"五甲成就数",armor_point:"五甲资历数"}}},created:function(){var e=this;Object(O["b"])().then((function(t){var n;t=t.data,e.count=t.data.count,e.count.general=~~(null===(n=e.count)||void 0===n?void 0:n.general)+e.generalNum,e.$store.commit("SET_STATE",{key:"generalTotal",value:~~e.count["general"]}),e.$store.commit("SET_STATE",{key:"armorTotal",value:~~e.count["armor"]})}))}},L=A,V=(n("e956"),n("2877")),R=Object(V["a"])(L,$,E,!1,null,null,null),N=R.exports,z=n("9b18"),M=function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-left-side"},[t("div",{staticClass:"m-related-roles"},[e.isLogin?t("el-select",{attrs:{"value-key":"ID",placeholder:"请选择当前角色",disabled:!e.isLogin,"popper-class":"m-related-roles-options",size:"small"},model:{value:e.currentRole,callback:function(t){e.currentRole=t},expression:"currentRole"}},[t("span",{staticClass:"u-prefix",attrs:{slot:"prefix"},slot:"prefix"},[e._v(" 角色 "),e.isVirtual||e.isSync?t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"虚拟角色即为魔盒账号本身，可自定义进度",placement:"top"}},[t("a",{attrs:{href:"/tool/74559",target:"_blank"}},[t("i",{staticClass:"el-icon-warning-outline"})])]):t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"请先在游戏中同步成就",placement:"top"}},[t("a",{attrs:{href:"/tool/74559",target:"_blank"}},[t("i",{staticClass:"el-icon-warning-outline"})])])],1),e.isLogin?t("el-option",{attrs:{value:e.virtualRole,label:e.virtualRole.name+"<虚拟角色>"}},[t("span",{staticClass:"u-role"},[t("span",{staticClass:"u-role-name"},[t("img",{staticClass:"u-role-icon",attrs:{src:e.virtualRole.avatar}}),e._v(e._s(e.virtualRole.name))]),t("span",{staticClass:"u-role-server"},[e._v(" <虚拟角色>")])])]):e._e(),e._l(e.roleList,(function(n){return t("el-option",{key:n.ID,attrs:{value:n,label:n.name}},[t("span",{staticClass:"u-role"},[t("span",{staticClass:"u-role-name"},[t("img",{staticClass:"u-role-icon",attrs:{src:e.showSchoolIcon(n.mount)}}),e._v(e._s(n.name))]),t("span",{staticClass:"u-role-server"},[e._v(e._s(n.server))])])])}))],2):e._e()],1),t("el-select",{attrs:{size:"small"},model:{value:e.sidebar.general,callback:function(t){e.$set(e.sidebar,"general",t)},expression:"sidebar.general"}},e._l(e.menu_types,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e.currentRole?t("div",{staticClass:"m-filters"},[t("el-checkbox",{attrs:{label:"只看未完成",border:"",size:"mini"},model:{value:e.uncompleted,callback:function(t){e.uncompleted=t},expression:"uncompleted"}}),[1,2].includes(e.sidebar.general)?t("div",{staticClass:"u-total"},[t("b",{staticClass:"u-completed-num"},[e._v(e._s(e.completedNum))]),t("span",{staticClass:"u-total-num"},[e._v(" / "+e._s(e.achievementTotal))])]):e._e()],1):e._e(),t("div",{staticClass:"m-menus"},[t("el-tree",{ref:"tree",staticClass:"filter-tree",class:{other:[3].includes(e.sidebar.general)},attrs:{data:e.menus,"node-key":"id","expand-on-click-node":!1,"filter-node-method":e.filterNode},on:{"node-click":e.clickNode},scopedSlots:e._u([{key:"default",fn:function(n){var a=n.data;return t("router-link",{staticClass:"el-tree-node__label",attrs:{to:e.menu_url(a)}},[t("span",{staticClass:"u-name",domProps:{textContent:e._s(a.name)}}),a.achievements_count?t("em",{staticClass:"u-count"},[e._v(" ("),e.currentRole?t("span",[e._v(e._s("".concat(e.getMenuCompleted(a),"/")))]):e._e(),t("span",[e._v(e._s("".concat(a.achievements_count+~~a.own_achievements_count)))]),e._v(") ")]):e._e()])}}])})],1)],1)},P=[],H=n("5530"),I=(n("99af"),n("4de4"),n("a630"),n("d81d"),n("13d5"),n("e9c4"),n("b64b"),n("6062"),n("76ea")),D=n("41cb"),q=function(){return Object(D["f"])().get("api/team/my-game-roles?nopage&custom=0")},U=n("c9d2"),B=n("85e4"),J=n("2ef0"),G={name:"Sidebar",props:["sidebar"],data:function(){return{menus_cache:[],menus:[],old_node:null,menu_types:[{value:1,label:"常规成就"},{value:2,label:"五甲成就"},{value:3,label:"其他板块"}],roleList:[],currentRole:"",isLogin:U["a"].isLogin(),uncompleted:!1,virtualRole:Object(H["a"])(Object(H["a"])({},U["a"].getInfo()),{},{jx3id:0,ID:~~U["a"].getInfo().uid}),isSync:!1}},computed:{generalTotal:function(){return this.$store.state.generalTotal},armorTotal:function(){return this.$store.state.armorTotal},achievementTotal:function(){var e=this.total;return 1===this.sidebar.general&&(e=this.generalTotal),2===this.sidebar.general&&(e=this.armorTotal),e},achievements:function(){return this.$store.state.achievements},achievementsVirtual:function(){return this.$store.state.achievementsVirtual},isVirtual:function(){var e;return!(null!==(e=this.currentRole)&&void 0!==e&&e.jx3id)},completedNum:function(e){var t=this,n=e.menus,a=e.achievementsVirtual,r=e.achievements,i=n.map((function(e){return t.getMenuCompleted(e,a,r)}));return i.reduce((function(e,t){return e+t}),0)},total:function(e){var t=e.menus,n=t.map((function(e){return e.achievements_count+e.own_achievements_count}));return n.reduce((function(e,t){return e+t}),0)}},watch:{sidebar:{immediate:!0,deep:!0,handler:function(e,t){var n=this;n.expand_menu(),n.sidebar.general&&n.get_menus(this.sidebar.general)}},virtualRole:{immediate:!0,deep:!0,handler:function(e){this.currentRole=e}},currentRole:{deep:!0,handler:function(e){if(e){sessionStorage.setItem("cj-current-role",JSON.stringify(e)),this.$store.commit("SET_STATE",{key:"role",value:e});var t=e.jx3id;t?(this.$store.commit("SET_STATE",{key:"achievementsVirtual",value:[]}),this.loadRoleAchievements(t)):(0===t&&this.loadVirtualAchievements(),this.$store.commit("SET_STATE",{key:"achievements",value:[],isSession:!0}))}}},uncompleted:function(e){this.$store.commit("SET_STATE",{key:"onlyUncompleted",value:e})},isLogin:{immediate:!0,handler:function(e){e||(this.currentRole="",this.$store.commit("SET_STATE",{key:"role",value:""}),this.$store.commit("SET_STATE",{key:"cj-current-role",value:"",isSession:!0}),this.$store.commit("SET_STATE",{key:"achievements",value:[],isSession:!0}))}}},methods:{getLastAchievement:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){if(Array.isArray(e)){var t=null===e||void 0===e?void 0:e[e.length-1];return t}return e}))},getMenuCompleted:function(e,t,n){var a,r=this,i=Object(J["cloneDeep"])(e),s=this.isVirtual?Object(J["flattenDeep"])(i.achievements):this.getLastAchievement(i.achievements);i.all_achievements=i.children?Array.from(new Set(s.concat(Object(J["flattenDeep"])(i.children.map((function(e){return r.isVirtual?e.achievements:r.getLastAchievement(e.achievements)})))))):s;var c=this.isVirtual?t||this.achievementsVirtual:n||this.achievements;return null===(a=i.all_achievements.filter((function(e){return c.includes(e+"")})))||void 0===a?void 0:a.length},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},clickNode:function(e,t){var n=this,a=null;0===e.own_achievements_count&&(a=t.childNodes[0],a&&(setTimeout((function(){n.$router.push({name:2==n.sidebar.general?"top_five":"normal",params:{sub:a.data.sub,detail:a.data.detail}})}),100),this.$refs.tree.store.setCurrentNode(a)));var r=a||t;!0!==t.expanded?t.expanded=!0:this.old_node==r&&(t.expanded=!1),this.old_node=r,window.innerWidth<1024&&t.isLeaf&&I["a"].$emit("toggleLeftSide",!1)},get_menus:function(e){var t=this;t.menus_cache[e]?t.menus=t.menus_cache[e]:3!=e?Object(O["f"])(e).then((function(n){if(n=n.data,200===n.code){var a=[];for(var r in n.data.menus)a.push(n.data.menus[r]);t.menus=a,t.menus_cache[e]=a,t.expand_menu()}}),(function(){t.menus=!1})):t.menus=[{name:"最新成就",id:"newest",router:"newest"},{name:"待攻略成就",id:"waiting",router:"waiting"},{name:"奇遇成就",id:"adventure",router:"adventure"},{name:"珍奇成就",id:"rare",router:"rare"}]},expand_menu:function(){var e=this;e.$nextTick((function(){var t="";if(3!=e.sidebar.general){var n=e.sidebar.sub,a=e.sidebar.detail;t=n+(a?"-".concat(a):"")}else t=e.sidebar.other;if(t){var r=e.$refs.tree.store.getNode(t);if(r)return r.expanded=!0,r.parent&&(r.parent.expanded=!0),void e.$refs.tree.store.setCurrentNode(r)}}))},menu_url:function(e){switch(this.sidebar.general){case 1:return{name:"normal",params:{sub:e.sub,detail:e.detail}};case 2:return{name:"top_five",params:{sub:e.sub,detail:e.detail}};case 3:return{name:e.router}}return null},loadUserRoles:function(){var e=this;this.isLogin&&q().then((function(t){var n,a;e.roleList=(null===(n=t.data)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.list)||[]}))},loadRoleAchievements:function(e){var t=this;Object(O["j"])(e).then((function(e){var n,a,r,i,s=(null===(n=e.data)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.achievements)||"",c=null===(r=e.data)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.jx3id;t.isSync=!!c;var o=s.split(",");t.$store.commit("SET_STATE",{key:"achievements",value:o,isSession:!0})}))},showSchoolIcon:B["showSchoolIcon"],loadVirtualAchievements:function(){var e=this;this.currentRole&&!this.currentRole.jx3id&&Object(O["k"])().then((function(t){var n,a,r=(null===(n=t.data)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.achievements)||"",i=r.split(",");e.$store.commit("SET_STATE",{key:"achievementsVirtual",value:i})}))}},mounted:function(){sessionStorage.getItem("cj-current-role")?(this.currentRole=JSON.parse(sessionStorage.getItem("cj-current-role")),this.loadUserRoles()):this.loadUserRoles(),0===this.currentRole.jx3id&&(this.loadVirtualAchievements(),this.$store.commit("SET_STATE",{key:"role",value:this.virtualRole}))}},Q=G,W=(n("88d3"),Object(V["a"])(Q,M,P,!1,null,null,null)),F=W.exports,K=function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-right-side",class:{isHome:e.isHome}},[t("SideMsg"),t("Rank"),t("div",{staticClass:"m-group"},[t("h2",{staticClass:"m-title"},[t("svg",{class:"u-icon",attrs:{height:"512",viewBox:"0 0 512 512",width:"512",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[t("path",{attrs:{d:"M256 256h85.333v21.333C341.333 300.897 360.436 320 384 320s42.667-19.103 42.667-42.667V256H512V42.667C512 19.103 492.897 0 469.333 0H256z",fill:"#dd636e"}}),t("path",{attrs:{d:"M469.333 0H384v320c23.564 0 42.667-19.103 42.667-42.667V256H512V42.667C512 19.103 492.897 0 469.333 0z",fill:"#d82e3d"}}),t("path",{attrs:{d:"M256 256v-85.333h21.333C300.897 170.667 320 151.564 320 128s-19.103-42.667-42.667-42.667H256V0H42.667C19.103 0 0 19.103 0 42.667V256z",fill:"#ffe646"}}),t("path",{attrs:{d:"M277.333 85.333H256V0H128v256h128v-85.333h21.333C300.898 170.667 320 151.564 320 128s-19.102-42.667-42.667-42.667z",fill:"#ffc81e"}}),t("path",{attrs:{d:"M256 256h-85.333v-21.333C170.667 211.102 151.564 192 128 192s-42.667 19.102-42.667 42.667V256H0v213.333C0 492.897 19.103 512 42.667 512H256z",fill:"#d49eee"}}),t("path",{attrs:{d:"M256 512V256h-85.333v-21.333C170.667 211.103 151.564 192 128 192v320z",fill:"#b77ede"}}),t("path",{attrs:{d:"M256 256v85.333h-21.333C211.102 341.333 192 360.436 192 384s19.102 42.667 42.667 42.667H256V512h213.333C492.897 512 512 492.897 512 469.333V256z",fill:"#badc1e"}}),t("path",{attrs:{d:"M384 512h85.333C492.897 512 512 492.897 512 469.333V256H384z",fill:"#73be14"}}),t("path",{attrs:{d:"M341.333 249v28.333C341.333 300.897 360.436 320 384 320s42.667-19.103 42.667-42.667V249z",fill:"#dd636e"}}),t("path",{attrs:{d:"M384 246v74c23.564 0 42.667-19.103 42.667-42.667V246z",fill:"#d82e3d"}})]),t("span",{staticClass:"u-text"},[e._v("各区服成就群")]),t("a",{staticClass:"u-show-message",attrs:{target:"_blank",href:"https://www.jx3box.com/tool/13659/"}},[e._v("申请展示 »")])]),t("div",{staticClass:"m-group-content"},[t("el-collapse",{attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.groups,(function(n){return t("el-collapse-item",{key:n.uuid,attrs:{title:n.label,name:n.label}},e._l(n.children,(function(n){return t("div",{key:n.uuid,staticClass:"u-zones"},[t("el-tag",{staticClass:"u-zone",attrs:{size:"mini"}},[e._v(e._s(n.label))]),e._l(n.children,(function(n){return t("span",{key:n.uuid,staticClass:"u-qq",attrs:{size:"mini"},on:{click:function(t){return e.copy(n.label)}}},[e._v(e._s(n.label))])}))],2)})),0)})),1)],1)])],1)},X=[];n("07ac"),n("9911"),n("159b");function Y(e){return Object(D["a"])({mute:!0}).get("/api/cms/menu-group/".concat(e),{})}n("65c2");var Z=n("fe53"),ee=function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-wiki-rank"},[t("h2",{staticClass:"m-title"},[t("svg",{class:"u-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[t("g",{attrs:{fill:"#ffa91e"}},[t("path",{attrs:{d:"M324.891 167.266l16.262 94.815L256 217.314l-85.153 44.767 16.262-94.815-68.891-67.16 95.205-13.833L256 0l42.577 86.273 95.205 13.833z"}}),t("path",{attrs:{d:"M409.944 253.46v87.673L256.9 403.303l-.9-.36-153.944-61.76V253.46L256 315.219z"}}),t("path",{attrs:{d:"M409.944 362.157v87.673L256.9 512l-.9-.36-153.944-61.76v-87.723L256 423.916z"}})]),t("g",{attrs:{fill:"#ff8900"}},[t("path",{attrs:{d:"M341.153 262.081L256 217.314V0l42.577 86.273 95.205 13.833-68.891 67.16zM409.944 253.46v87.673L256.9 403.303l-.9-.36v-87.724zM256 423.916l153.944-61.759v87.673L256.9 512l-.9-.36z"}})])]),t("span",{staticClass:"u-text"},[e._v("排行榜")])]),t("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},e._l(e.tabs,(function(n){return t("el-tab-pane",{key:n.name,attrs:{label:n.label,name:n.name}},[t("ul",{staticClass:"u-list"},e._l(e.ranks,(function(n,a){return t("li",{key:a},[t("a",{staticClass:"u-contributor",attrs:{href:n.id?e.authorLink(n.id):null}},[t("span",{staticClass:"u-left"},[t("span",{staticClass:"u-order",class:a<3&&"t".concat(a+1)},[e._v(e._s(a+1))]),t("img",{staticClass:"u-avatar",attrs:{src:e.showAvatar(n.avatar),alt:n.nickname}}),t("span",{staticClass:"u-name",domProps:{textContent:e._s(n.nickname)}})]),t("em",{staticClass:"u-count"},[e._v("+ "+e._s(n.count))])])])})),0)])})),1)],1)},te=[];n("fb6a");function ne(e){return Object(D["a"])().get("/api/cms/wiki/post/rank",{params:e})}var ae={name:"WikiRanks",props:{type:{type:String,default:"achievement"}},data:function(){return{ranks:[],activeTab:"achievement",tabs:[{name:"achievement",label:"成就"},{name:"item",label:"物品"},{name:"quest",label:"任务"},{name:"knowledge",label:"通识"},{name:"skill",label:"技能"}]}},computed:{client:function(){return this.$store.state.client}},watch:{activeTab:function(){this.loadData()}},mounted:function(){this.loadData()},methods:{showAvatar:B["showAvatar"],authorLink:B["authorLink"],loadData:function(){var e=this,t={type:this.activeTab,client:this.client};ne(t).then((function(t){var n;e.ranks=((null===(n=t.data)||void 0===n?void 0:n.data)||[]).slice(0,10)}))}}},re=ae,ie=(n("d922"),Object(V["a"])(re,ee,te,!1,null,null,null)),se=ie.exports,ce=n("ec26"),oe={name:"Extend",components:{SideMsg:Z["a"],Rank:se},props:{type:{type:String,default:"achievement"}},data:function(){return{ranks:[],groups:[],isHome:!0,activeName:"",qq:"614370825"}},computed:{client:function(){return this.$store.state.client}},methods:{clickNode:function(e){if(!e.children){var t=e.label;this.copy(t)}},copy:function(e){var t=this;navigator.clipboard.writeText(e).then((function(){t.$notify({title:"复制成功",message:e,type:"success"})}))},copy_success:function(){this.$notify({title:"复制成功",type:"success"})},copy_error:function(){this.$notify({title:"浏览器不支持",type:"error"})},checkIsHome:function(){this.isHome="home"==this.$route.name||!this.$route.name},onQQClick:function(){var e=this;navigator.clipboard.writeText(this.qq).then((function(){e.$notify({title:"复制成功",message:"内容："+e.qq,type:"success"})}))},loadGroups:function(){var e=this;Y("wiki_cj_group").then((function(t){var n,a,r=(null===(n=t.data)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.menus)||[],i=r.map((function(e){var t;return{zone:e.label.split("/")[0],server:(null===(t=e.label.split("/"))||void 0===t?void 0:t[1])||"",children:e.link.split("/"),priority:e.priority}}));e.groups=e.convertToTree(i)}))},convertToTree:function(e){var t={};return e.forEach((function(e){var n=e.zone;t[n]||(t[n]={label:n,children:[],uuid:Object(ce["a"])()});var a={label:e.server,children:e.children.map((function(e){return{label:e,uuid:Object(ce["a"])()}})),priority:e.priority,uuid:Object(ce["a"])()};t[n].children.push(a)})),Object.values(t)}},mounted:function(){this.loadGroups(),this.checkIsHome()},watch:{"$route.name":function(){this.checkIsHome()}}},ue=oe,le=(n("0d43"),Object(V["a"])(ue,K,X,!1,null,null,null)),de=le.exports,he=n("3a01"),fe={name:"App",data:function(){return{placeholder:"输入成就名称/成就描述/称号/奖励物品「回车」进行搜索"}},components:{AchievementCount:N,Sidebar:F,Search:z["a"],Info:de,DefaultLayout:x["a"],CommonNav:he["a"]},computed:{isSingle:function(){return"view"==this.$route.name}},watch:{$route:{immediate:!0,handler:function(){this.$route.params.sub||this.$route.params.detail||this.$route.params.source_id?(this.$route.params.sub&&(this.$store.state.sidebar.sub=this.$route.params.sub),this.$route.params.detail&&(this.$store.state.sidebar.detail=this.$route.params.detail)):(this.$store.state.sidebar.sub=null,this.$store.state.sidebar.detail=null),3==this.$store.state.sidebar.general&&this.$route.name&&this.$set(this.$store.state.sidebar,"other",this.$route.name)}}},methods:{getAppIcon:B["getAppIcon"],search:function(e){delete this.$store.state.scroll_tops["search"],this.$router.push({name:"search",params:{keyword:e.trim().replace(/(?:^\[)|(?:\]$)/gi,"")}})}}},me=fe,ve=(n("e795"),Object(V["a"])(me,S,j,!1,null,null,null)),pe=ve.exports,be=n("16e5");a["default"].use(i.a),a["default"].use(s["a"]),a["default"].use(o.a),be["a"].install(a["default"]),new a["default"]({router:T,store:h,render:function(e){return e(pe)}}).$mount("#app")},e956:function(e,t,n){"use strict";n("f435")},f435:function(e,t,n){},f70d:function(e,t,n){}});
//# sourceMappingURL=cj.db6e493b.js.map