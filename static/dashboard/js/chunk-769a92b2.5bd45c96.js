(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-769a92b2"],{4039:function(t,e,n){"use strict";n.r(e);n("b0c0");var i=function(){var t=this,e=t._self._c;return e("uc",{staticClass:"m-dashboard-honor m-dashboard-skin",attrs:{icon:"el-icon-brush",title:t.$t("主题装扮"),"tab-list":t.tabList},scopedSlots:t._u([{key:"header",fn:function(){return[e("a",{staticClass:"u-link el-button el-button--default el-button--mini is-round is-plain",attrs:{href:"/vip/mall?category=virtual",target:"_blank"}},[e("i",{staticClass:"el-icon-shopping-cart-2"}),t._v(" "+t._s(t.$t("前往获取装扮")))])]},proxy:!0}])},[e("div",{staticClass:"m-honor"},[e("div",{staticClass:"m-honor-left"},[e("div",{staticClass:"u-header-info"},[e("Avatar",{staticClass:"u-author-avatar",attrs:{uid:t.uid,url:t.avatar,size:t.avatarSize(),frame:t.avatar_frame}}),e("div",{staticClass:"u-author-info"},[e("span",{staticClass:"u-name"},[e("span",{on:{click:function(e){t.copyData(t.data.display_name||t.$t("匿名"))}}},[t._v(t._s(t.data.display_name||t.$t("匿名")))]),t._v(" "),e("span",{staticClass:"u-uid",on:{click:function(e){return t.copyData(t.data.ID||0)}}},[t._v("(UID : "+t._s(t.data.ID||0)+")")])]),e("div",{staticClass:"u-tips"},[e("el-tooltip",{attrs:{content:t.$t("当前经验")+"".concat(t.data.experience||0),placement:"top"}},[e("span",{staticClass:"u-level",class:"lv-"+t.level,style:{backgroundColor:t.showLevelColor(t.level)}},[t._v("Lv."+t._s(t.level))])]),t.isPRO||t.isVIP?e("el-tooltip",{attrs:{content:t.vipTypeTitle,placement:"top"}},[e("span",{staticClass:"u-vip",attrs:{target:"_blank"}},[e("i",{staticClass:"u-icon vip"},[t._v(t._s(t.vipType))])])]):t._e(),t.isSuperAuthor?e("el-tooltip",{attrs:{content:t.$t("签约作者"),placement:"top"}},[e("span",{staticClass:"u-superauthor"},[e("i",{staticClass:"u-icon superauthor"},[t._v(t._s(t.$t("签约作者")))])])]):t._e()],1),t.isSelect.isCustomize?t._e():e("div",{staticClass:"u-honor",style:{backgroundImage:"url(".concat(t.imgUrl(t.isSelect),")")}},[e("span",{style:{color:t.isSelect.color}},[t._v(t._s(t.isSelect.name))])])])],1)]),e("div",{staticClass:"m-honor-right"},[e("div",{staticClass:"u-honor-list"},[e("div",{staticClass:"u-title"},[e("span",{staticClass:"u-name"},[e("i",{staticClass:"el-icon-collection-tag"}),t._v(t._s(t.$t("称号")))]),e("a",{staticClass:"u-buy",attrs:{href:"/vip/mall?category=virtual&sub_category=honor",target:"_blank"}},[e("i",{staticClass:"el-icon-shopping-cart-2"}),t._v(" "+t._s(t.$t("前往获取")))])]),e("div",{staticClass:"u-honor-item"},t._l(t.honorList,(function(n,i){return e("div",{key:i,staticClass:"u-picbox"},[e("el-tooltip",{attrs:{effect:"dark",placement:"top","open-delay":200}},[e("div",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(n.name))]),e("div",{staticClass:"u-pic",class:t.setClass(n),on:{click:function(e){return t.selectChange(n)}}},[n.isCustomize?e("div",{staticClass:"u-noHonor"}):e("el-image",{attrs:{src:t.imgUrl(n),fit:"contain"}})],1)])],1)})),0)])])]),e("div",{staticClass:"m-btn"},[e("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v(t._s(t.$t("确认")))]),e("el-button",{on:{click:t.reset}},[t._v(t._s(t.$t("重置")))])],1)])},a=[],r=n("5530"),o=(n("99af"),n("7db0"),n("d81d"),n("a9e3"),n("d3b7"),n("ac1f"),n("466d"),n("5319"),n("159b"),n("b547")),s=n("46c1"),c=n("c9d2"),u=n("8e44"),l=n("65c2"),d=n("aa38"),f=n("2ef0"),v={name:"honor",props:[],data:function(){return{tabList:s["d"],isVIP:!1,info:{uid:c["a"].getInfo().uid,name:"匿名",user_avatar:"".concat(l["__imgPath"],"/image/common/avatar.png"),user_avatar_frame:"default",bio:"-",sign:0},isSelect:{},honorList:[],list:[],isSelectBak:{}}},computed:{uid:function(){return c["a"].getInfo().uid},data:function(){return this.info},avatar:function(){return this.data.user_avatar||""},avatar_frame:function(){return this.data.user_avatar_frame||""},isPRO:function(){var t;return null===(t=this.data)||void 0===t?void 0:t.is_pro},isSuperAuthor:function(){var t;return!(null===(t=this.data)||void 0===t||!t.sign)},vipType:function(){return this.isPRO?"PRO":"PRE"},vipTypeTitle:function(){return this.isPRO?"专业版会员用户":"高级版会员用户"},level:function(){var t;return c["a"].getLevel((null===(t=this.data)||void 0===t?void 0:t.experience)||0)}},methods:{imgUrl:function(t){return l["__imgPath"]+"decoration/honor/".concat(t.img,"/").concat(t.img,".").concat(t.img_ext)},setClass:function(t){return t.isHave?t.using?"select":void 0:"noHave"},avatarSize:function(){var t=document.body.clientWidth||document.documentElement.clientWidth;return t>500?"m":"s"},loadUserInfo:function(){var t=this;Object(u["b"])().then((function(e){e.data.data&&(t.info=e.data.data)}))},disposeHonor:function(t){var e=t||{},n=(null===t||void 0===t?void 0:t.honor)||{},i=n.only,a=n.prefix,r=n.prefix.match(/(?<=\{)(.+?)(?=\})/g),o=n.ranking,s=n.year||"";if(i?s=a:r?e&&(s+=(null===t||void 0===t?void 0:t[r[0]])||""):s+=a,(null===o||void 0===o?void 0:o.length)>0&&e){e.imgIndex=0;for(var c=0;c<o.length;c++)if(void 0!=(null===t||void 0===t?void 0:t.ranking)&&Object(f["inRange"])(Number(null===t||void 0===t?void 0:t.ranking),o[c][0],o[c][1])){e.imgIndex=c;var u=o[c][2],l=u.match(/(?<=\{)(.+?)(?=\})/g);s+=l?u.replace(/\{([^{}]+?)\}/g,(function(n,i){return e[i]||t[i]||""})):u;break}}return s+n.suffix},loadHonor:function(){var t=this;Object(d["e"])().then((function(e){t.honorList=e.data.data.list,t.loadDecoration()}))},loadDecoration:function(){var t=this;Object(d["f"])(this.uid).then((function(e){var n=e;t.honorList=t.honorList.map((function(e){var i=n.find((function(t){return t.honor_id==e.id}));i&&(e.isHave=!0);var a=n.find((function(t){return t.honor_id==e.id&&1==t.using}));return a&&(e.using=1),e.name=t.disposeHonor(Object(r["a"])(Object(r["a"])({},i),{},{honor:e})),e}));var i=t.honorList.find((function(t){return 1==t.using})),a={type:"honor_customize",img:"不佩戴称号",name:"取消佩戴称号",using:i?0:1,isHave:!0,isCustomize:!0};t.isSelect=i||a,t.honorList.unshift(a),t.list=Object(f["cloneDeep"])(t.honorList),t.isSelectBak=Object(f["cloneDeep"])(t.isSelect)}))},selectChange:function(t){t.isHave&&(this.honorList.forEach((function(t){t.using=0})),t.using=1,this.isSelect=t)},reset:function(){this.$set(this,"honorList",Object(f["cloneDeep"])(this.list)),this.$set(this,"isSelect",Object(f["cloneDeep"])(this.isSelectBak))},showLevelColor:function(t){return l["__userLevelColor"][t]},submit:function(){var t,e=this,n=null===(t=this.honorList)||void 0===t?void 0:t.find((function(t){return 1==t.using}));null!==n&&void 0!==n&&n.id?Object(d["i"])(n.id).then((function(t){e.$message({message:e.$t("称号更新成功"),type:"success"})})):Object(d["a"])().then((function(t){e.$message({message:e.$t("称号更新成功"),type:"success"})}))}},mounted:function(){this.loadUserInfo(),this.loadHonor()},components:{uc:o["a"]}},p=v,b=(n("c0b2"),n("2877")),h=Object(b["a"])(p,i,a,!1,null,null,null);e["default"]=h.exports},"51eb":function(t,e,n){"use strict";var i=n("825a"),a=n("485a"),r=TypeError;t.exports=function(t){if(i(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw new r("Incorrect hint");return a(this,t)}},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("a4d3"),n("4de4"),n("14d9"),n("e439"),n("dbb4"),n("b64b"),n("d3b7"),n("159b");var i=n("ade3");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){Object(i["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},8172:function(t,e,n){"use strict";var i=n("e065"),a=n("57b9");i("toPrimitive"),a()},"950b":function(t,e,n){},aa38:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"h",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return l})),n.d(e,"g",(function(){return d})),n.d(e,"j",(function(){return f})),n.d(e,"e",(function(){return v})),n.d(e,"f",(function(){return p})),n.d(e,"i",(function(){return b})),n.d(e,"a",(function(){return h}));n("99af");var i=n("41cb"),a=n("bc3a"),r=n.n(a),o=n("65c2");function s(t){return Object(i["b"])().get("/api/cms/user/decoration",{params:t})}function c(t){return Object(i["b"])().post("/api/cms/user/decoration",t)}function u(){var t=o["__imgPath"]+"decoration/index.json?".concat(Date.now(),"}");return r.a.get(t)}function l(){return r.a.get("".concat(o["__dataPath"],"emotion/output/catalog.json?").concat(Date.now()))}function d(t,e){return Object(i["b"])().post("/api/cms/user/decoration/check-suit/".concat(t,"/").concat(e,"/for/avatar"))}function f(t){return Object(i["b"])().put("/api/cms/user/my/avatar-frame",t)}function v(){return Object(i["b"])().get("/api/cms/user/config/honor")}function p(t){return Object(i["c"])({mute:!0}).get("/api/next2/user/"+t+"/honors").then((function(t){return t.data.data}))}function b(t){return Object(i["b"])().put("/api/cms/user/honor/use/".concat(t))}function h(){return Object(i["b"])().delete("/api/cms/user/honor/use")}},ade3:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("53ca");n("a4d3"),n("e01a"),n("8172"),n("d9e2"),n("efec"),n("a9e3"),n("d3b7");function a(t,e){if("object"!=Object(i["a"])(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var a=n.call(t,e||"default");if("object"!=Object(i["a"])(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function r(t){var e=a(t,"string");return"symbol"==Object(i["a"])(e)?e:String(e)}function o(t,e,n){return e=r(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},c0b2:function(t,e,n){"use strict";n("950b")},dbb4:function(t,e,n){"use strict";var i=n("23e7"),a=n("83ab"),r=n("56ef"),o=n("fc6a"),s=n("06cf"),c=n("8418");i({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){var e,n,i=o(t),a=s.f,u=r(i),l={},d=0;while(u.length>d)n=a(i,e=u[d++]),void 0!==n&&c(l,e,n);return l}})},e439:function(t,e,n){"use strict";var i=n("23e7"),a=n("d039"),r=n("fc6a"),o=n("06cf").f,s=n("83ab"),c=!s||a((function(){o(1)}));i({target:"Object",stat:!0,forced:c,sham:!s},{getOwnPropertyDescriptor:function(t,e){return o(r(t),e)}})},efec:function(t,e,n){"use strict";var i=n("1a2d"),a=n("cb2d"),r=n("51eb"),o=n("b622"),s=o("toPrimitive"),c=Date.prototype;i(c,s)||a(c,s,r)}}]);
//# sourceMappingURL=chunk-769a92b2.5bd45c96.js.map