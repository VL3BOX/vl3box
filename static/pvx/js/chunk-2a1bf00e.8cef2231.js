(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a1bf00e"],{"51eb":function(t,e,n){"use strict";var s=n("825a"),i=n("485a"),a=TypeError;t.exports=function(t){if(s(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw new a("Incorrect hint");return i(this,t)}},6495:function(t){t.exports=JSON.parse('["全部","PVE","PVP","PVX","PVBB","语文","数学","外语","信息","物理","化学","生物","政治","历史","地理","美术","音乐","体育","劳动","理综","文综"]')},"6a7f":function(t,e,n){"use strict";n.d(e,"f",(function(){return i})),n.d(e,"g",(function(){return a})),n.d(e,"i",(function(){return r})),n.d(e,"l",(function(){return o})),n.d(e,"n",(function(){return l})),n.d(e,"o",(function(){return d})),n.d(e,"m",(function(){return m})),n.d(e,"a",(function(){return f})),n.d(e,"h",(function(){return p})),n.d(e,"d",(function(){return v})),n.d(e,"q",(function(){return g})),n.d(e,"c",(function(){return _})),n.d(e,"p",(function(){return w})),n.d(e,"e",(function(){return b})),n.d(e,"b",(function(){return h})),n.d(e,"k",(function(){return c})),n.d(e,"j",(function(){return u}));n("99af");var s=n("41cb");function i(t){return Object(s["c"])().get("/api/question/user-exam-paper",{params:t})}function a(t){return Object(s["c"])().get("api/question/public-list",{params:t})}function r(t){return Object(s["c"])({proxy:!0}).get("api/question/user-exam-paper/"+t+"?details")}function o(t){return Object(s["c"])({proxy:!0}).get("api/question/"+t+"/no-answer")}function c(t){return Object(s["c"])({proxy:!0}).get("/api/question/".concat(t))}function u(t){return Object(s["c"])().get("/api/question/exam-paper/"+t)}function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(s["c"])({proxy:!0}).post("api/question/user-exam-paper/".concat(t,"/i-finish-all").concat(n?"?force":""),e)}function d(t,e){return Object(s["c"])({proxy:!0}).post("api/question/user-exam-paper/q/".concat(t,"/answer"),e)}function m(t,e){return Object(s["c"])({proxy:!0}).get("api/summary-any/"+t+"-"+e+"/stat")}function f(t,e){return Object(s["c"])({proxy:!0}).put("api/question/exam-paper/"+t+"/opt","",{params:{action:e},withCredentials:!0})}function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;return Object(s["c"])().get("api/game/exam/random",{params:{count:t}})}function b(t){return Object(s["c"])().get("api/game/exam/search",{params:t})}function h(t){return Object(s["c"])().post("api/game/exam/ugc",t)}function v(t){return Object(s["c"])().post("/api/question/create",t)}function g(t,e){return Object(s["c"])().put("/api/question/"+t+"/update",e)}function _(t){return Object(s["c"])().post("/api/question/exam-paper",t)}function w(t,e){return Object(s["c"])().put("/api/question/exam-paper/"+t,e)}},8172:function(t,e,n){"use strict";var s=n("e065"),i=n("57b9");s("toPrimitive"),i()},"84f4":function(t,e,n){"use strict";n("c89b")},9430:function(t,e,n){"use strict";n("99af");var s=function(){var t=this,e=t._self._c;return t.item?e("div",{staticClass:"v-single-card",class:t.fromQuestion&&"from-question"},[e("div",{staticClass:"m-single-question"},[e("div",{staticClass:"u-number"},[t.fromQuestion?e("div",{staticClass:"u-left"},[e("span",{staticClass:"u-tag u-no"},[t._v("No."+t._s(t.item.id))]),e("span",{staticClass:"u-tag u-client",class:"u-".concat(t.item.client)},[t._v(t._s(t.clients[t.item.client||"std"]))]),t.index&&t.item_tags.length?t._l(t.item_tags,(function(n,s){return e("a",{key:s,staticClass:"u-tag",attrs:{href:t.tagsLink(n),target:"_blank"}},[t._v(t._s(n))])})):t._e()],2):e("div",{staticClass:"u-left"},[t.index?e("span",{staticClass:"u-num"},[t._v(t._s(t.index))]):t._e(),t.index&&t.item_tags.length?t._l(t.item_tags,(function(n,s){return e("a",{key:s,staticClass:"u-tag",attrs:{href:t.tagsLink(n),target:"_blank"}},[t._v(t._s(n))])})):t._e()],2),e("div",{staticClass:"u-right"},[t.fromQuestion?t._e():e("a",{staticClass:"u-exam",attrs:{href:"".concat(t.exam_link).concat(t.item.id),target:"_blank"}},[e("span",{staticClass:"u-label"},[t._v(t._s(t.$t("试题编号")))]),t._v(t._s(t.item.id))]),e("a",{staticClass:"u-user",attrs:{href:t.authorLink(t.item.createUserId),target:"_blank"}},[e("span",{staticClass:"u-label"},[t._v(t._s(t.$t("出题人")))]),t._v(t._s(t.item.createUser))]),t.fromQuestion?e("div",{staticClass:"u-star"},[e("span",[t._v(t._s(t.$t("难度：")))]),e("el-rate",{attrs:{disabled:"","text-color":"#ff9900"},model:{value:t.item.hardStar,callback:function(e){t.$set(t.item,"hardStar",e)},expression:"item.hardStar"}})],1):t._e()])]),e("div",{staticClass:"u-cont"},[e("div",{staticClass:"u-title"},[e("span",{staticClass:"u-hint"},[t._v(" ["+t._s("checkbox"==t.item.type?t.$t("多选题"):t.$t("单选题"))+"] ")]),e("span",{staticClass:"m-html-title",domProps:{innerHTML:t._s(t.resolveImagePath(t.item.title))}})]),e("div",{staticClass:"u-option"},["checkbox"===t.item.type?[e("el-checkbox-group",{on:{change:function(e){return t.checkAnswers(t.item.id,t.checkbox)}},model:{value:t.checkbox,callback:function(e){t.checkbox=e},expression:"checkbox"}},t._l(t.options,(function(n,s){return e("el-checkbox",{key:s,class:t.myWrongClass(s),attrs:{label:s,border:"",disabled:t.isSubmitted}},[e("div",{staticClass:"u-radio"},[e("span",{staticClass:"u-num"},[t._v(t._s(String.fromCharCode(65+s))+".")]),e("span",{staticClass:"m-option-content",domProps:{innerHTML:t._s(t.resolveImagePath(n))}})])])})),1)]:[e("el-radio-group",{on:{change:function(e){return t.checkAnswers(t.item.id,t.radio)}},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},t._l(t.options,(function(n,s){return e("el-radio",{key:s,class:t.myWrongClass(s),attrs:{label:s,border:"",disabled:t.isSubmitted}},[e("div",{staticClass:"u-radio"},[e("span",{staticClass:"u-num"},[t._v(t._s(String.fromCharCode(65+s))+".")]),e("span",{staticClass:"m-option-content",domProps:{innerHTML:t._s(t.resolveImagePath(n))}})])])})),1)]],2)])]),t.fromQuestion?[t.answer?e("div",{staticClass:"m-question-answer"},[e("div",{staticClass:"u-answer-title"},[t._v(t._s(t.$t("正确答案")))]),e("div",{staticClass:"u-answer-content"},[e("div",{staticClass:"u-content-title"},t._l(t.answer.answerList,(function(n){return e("div",{key:n,staticClass:"u-content-title-item"},[e("b",[t._v(t._s(t.letter(n)))]),e("span",[t._v(t._s(t.item.options[n]))])])})),0),e("div",{staticClass:"u-content-desc"},[t.answer.whyami?e("span",{domProps:{innerHTML:t._s(t.answer.whyami)}}):e("div",[t._v(t._s(t.$t("暂无解析")))])])])]):t._e()]:[t.answer?e("div",{staticClass:"m-single-answer"},[e("div",{staticClass:"u-status",class:t.myAnswersClass(t.answer)},[t._v(" "+t._s(t.status)+" ")]),e("div",{staticClass:"u-answer"},[t._v(" "+t._s(t.$t("你的答案："))+" "),t.answer.myAnswer?e("span",t._l(t.answer.myAnswer,(function(n){return e("b",{key:n},[t._v(t._s(t.letter(n)))])})),0):e("b",[t._v("-")])]),e("div",{staticClass:"u-answer"},[t._v(" "+t._s(t.$t("正确答案："))+" "),t._l(t.answer.answerList,(function(n){return e("b",{key:n},[t._v(t._s(t.letter(n)))])}))],2),e("hr"),e("div",{staticClass:"m-analysis"},[e("span",{staticClass:"u-label"},[t._v(t._s(t.$t("解析：")))]),t.answer.whyami?e("span",{domProps:{innerHTML:t._s(t.answer.whyami)}}):e("div",[t._v(t._s(t.$t("暂无解析")))])])]):t._e()]],2):t._e()},i=[],a=n("ade3"),r=(n("4de4"),n("caad"),n("d81d"),n("fb6a"),n("b0c0"),n("d3b7"),n("2532"),n("159b"),n("85e4")),o=n("65c2"),c=n("6495"),u={name:"Card",props:["item","answer","index","isSubmitted","fromQuestion"],data:function(){return{checkbox:[],radio:{},clients:o["__clients"]}},computed:{options:function(){return this.item.options},status:function(){return this.answer.myAnswer?this.answer.myAnswerIsRight?"回答正确":"回答错误":"未作答"},exam_link:function(){return"/exam/question/"},item_tags:function(){var t=this,e=this.item.tags.map((function(e){if(-1!==t.tags.indexOf(e))return e})).filter(Boolean);return e.length||(e[0]=this.item.tags[0]),e.slice(0,1)},tags:function(){return c.slice(5,c.length)}},watch:{item:{deep:!0,immediate:!0,handler:function(){var t=this;this.$nextTick((function(){t.initImgViewer()}))}}},methods:{authorLink:r["authorLink"],resolveImagePath:r["resolveImagePath"],checkAnswers:function(t,e){var n=Array.isArray(e)?e:[e];this.$emit("changeVal",Object(a["a"])({},t,n))},myAnswersClass:function(t){var e=t.myAnswer,n=t.myAnswerIsRight;return e?n?"isCorrect":"isWrong":"noAnswer"},myWrongClass:function(t){if(!this.answer)return"";if(this.answer.myAnswerIsRight)return"";var e=this.answer.answerList,n=this.answer.myAnswer||[];return e.includes(t)?"isCorrect":n.includes(t)?"isWrong":void 0},letter:function(t){return String.fromCharCode(65+t)},tagsLink:function(t){var e="paper"===this.$route.name?3:2;return"/exam/".concat(e,"?tag=").concat(t)},initImgViewer:function(){var t=this,e=document.querySelectorAll(".m-html-title img");e.forEach((function(e){e.onclick=function(){t.$hevueImgPreview({url:e.src,controlBar:!1,clickMaskCLose:!0})}}))}}},l=u,d=n("2877"),m=Object(d["a"])(l,s,i,!1,null,null,null);e["a"]=m.exports},a15b:function(t,e,n){"use strict";var s=n("23e7"),i=n("e330"),a=n("44ad"),r=n("fc6a"),o=n("a640"),c=i([].join),u=a!==Object,l=u||!o("join",",");s({target:"Array",proto:!0,forced:l},{join:function(t){return c(r(this),void 0===t?",":t)}})},ade3:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var s=n("53ca");n("a4d3"),n("e01a"),n("8172"),n("d9e2"),n("efec"),n("a9e3"),n("d3b7");function i(t,e){if("object"!=Object(s["a"])(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=Object(s["a"])(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function a(t){var e=i(t,"string");return"symbol"==Object(s["a"])(e)?e:String(e)}function r(t,e,n){return e=a(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},c89b:function(t,e,n){},d404:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"v-question-single m-single-wrapper"},[e("div",{staticClass:"back-wrap"},[e("el-button",{on:{click:t.goBack}},[t._v(t._s(t.$t("返回列表")))]),t.data.id&&t.canManage?e("a",{staticClass:"u-edit",attrs:{href:t.editLink("question",t.data.id)}},[e("i",{staticClass:"el-icon-edit-outline"}),e("span",[t._v(t._s(t.$t("编辑")))])]):t._e()],1),e("SingleCard",{attrs:{fromQuestion:!0,item:t.data,answer:t.answer,isSubmitted:t.isSubmitted},on:{changeVal:t.finalAnswer}}),e("div",{staticClass:"m-exam-submit",class:{isSubmitted:t.isSubmitted},on:{click:t.submit}},[e("el-button",{staticClass:"u-btn",attrs:{disabled:t.isSubmitted}},[t._v(t._s(t.$t("提交")))])],1),e("Thx",{staticClass:"m-thx",attrs:{postId:t.id,postType:"question",postTitle:t.title,userId:t.user_id,adminBoxcoinEnable:!0,userBoxcoinEnable:!0,client:t.client}}),e("div",{staticClass:"m-single-comment"},[e("el-divider",{attrs:{"content-position":"left"}},[t._v(t._s(t.$t("评论")))]),e("Comment",{attrs:{id:t.id,category:"question"}})],1)],1)},i=[],a=n("5530"),r=(n("99af"),n("d81d"),n("14d9"),n("4e82"),n("e9c4"),n("b64b"),n("d3b7"),n("9430")),o=n("23d8"),c=n("9616"),u=n("6a7f"),l=n("c9d2"),d={name:"QuestionSingle",props:[],components:{SingleCard:r["a"],Comment:o["a"]},data:function(){return{data:{},answer:"",userAnswers:{},isSubmitted:!1,loading:!1}},computed:{id:function(){return~~this.$route.params.id},user_id:function(){return this.data.createUserId},title:function(){return this.data.title},client:function(){return this.data.client||"all"},canManage:function(){return l["a"].isEditor()||l["a"].getInfo().uid==this.data.createUserId}},watch:{},methods:{editLink:function(t,e){return"/publish/#/".concat(t,"/").concat(e)},loadData:function(){var t=this;this.loading=!0,Object(u["l"])(this.id).then((function(e){var n=e.data;n.tags=JSON.parse(n.tags),n.options=JSON.parse(n.options),t.data=n,Object(c["b"])("question",t.id)})).finally((function(){t.loading=!1}))},finalAnswer:function(t){this.userAnswers=Object(a["a"])(Object(a["a"])({},this.userAnswers),t)},submit:function(){var t=this;if(!l["a"].isLogin())return this.$message.error("请先登录");if("{}"==JSON.stringify(this.userAnswers))this.$alert("你没有选择答案哦~","提交失败",{type:"error"});else{var e={},n=this.userAnswers;for(var s in n)e=n[s].map((function(e){return t.data.options[e]}));Object(u["o"])(this.id,e).then((function(e){e.data&&(document.documentElement.scrollTop=0,e.data.question.answerList=e.data.question.answerList.sort(),t.answer=Object(a["a"])(Object(a["a"])({},e.data.question),{},{myAnswer:t.userAnswers[t.id].sort()}),t.isSubmitted=!0)}))}},goBack:function(){this.$router.push({name:"index",params:{type:2}})}},filters:{},created:function(){this.loadData()}},m=d,f=(n("84f4"),n("2877")),p=Object(f["a"])(m,s,i,!1,null,null,null);e["default"]=p.exports},efec:function(t,e,n){"use strict";var s=n("1a2d"),i=n("cb2d"),a=n("51eb"),r=n("b622"),o=r("toPrimitive"),c=Date.prototype;s(c,o)||i(c,o,a)}}]);
//# sourceMappingURL=chunk-2a1bf00e.8cef2231.js.map